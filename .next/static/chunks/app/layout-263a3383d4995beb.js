(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{345:(e,a,t)=>{"use strict";t.d(a,{Er:()=>u,ef:()=>n,j7:()=>d});var r,s,i=t(1990);let c=12,o="relevance",l={perPage:c=null!=(r=JSON.parse(localStorage.getItem("perPage")))?r:12,filterBy:null!=(s=localStorage.getItem("filterBy"))?s:"relevance"},n=(0,i.Z0)({name:"filters",initialState:l,reducers:{setPerPage(e,a){e.perPage=a.payload},setFilterBy(e,a){e.filterBy=a.payload}}}),{setPerPage:d,setFilterBy:u}=n.actions;n.reducer},2306:e=>{e.exports={style:{fontFamily:"'PT Serif', 'PT Serif Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_1a33f8",variable:"__variable_1a33f8"}},2871:(e,a,t)=>{"use strict";t.d(a,{default:()=>f});var r=t(5155);t(2115);var s=t(4540),i=t(1990),c=t(9019);let o=(0,i.Z0)({name:"books",initialState:{entities:{},status:"idle"},reducers:{},extraReducers:e=>{e.addCase(c.RU.pending,e=>{e.status="loading"}).addCase(c.RU.fulfilled,(e,a)=>{e.entities={...a.payload},e.status="loaded"}).addCase(c.jE.fulfilled,(e,a)=>{e.entities={...a.payload},e.status="loaded"}).addCase(c.jE.pending,e=>{e.status="loading"}).addCase(c.b5.fulfilled,(e,a)=>{e.entities={...a.payload},e.status="loaded"}).addCase(c.b5.pending,e=>{e.status="loading"})}});o.reducer;var l=t(3758),n=t(345),d=t(4396),u=t(9050);let g=(0,i.U1)({reducer:{books:o.reducer,pages:l.JN.reducer,filters:n.ef.reducer,adaptive:d.PO.reducer,search:u.XX.reducer}}),f=function(e){let{children:a}=e;return(0,r.jsx)(s.Kq,{store:g,children:a})}},3758:(e,a,t)=>{"use strict";t.d(a,{JN:()=>c,yd:()=>o});var r=t(1990);let s=1,i={pagesArr:[{id:1,active:!0},{id:2,active:!1},{id:3,active:!1},{id:4,active:!1},{id:5,active:!1}],activePage:s=Number(localStorage.getItem("activePage"))||1},c=(0,r.Z0)({name:"pages",initialState:i,reducers:{changePage(e,a){let{numberOfPages:t,activePage:r}=a.payload;return{...e,pagesArr:t&&r>t-2?e.pagesArr.map(e=>e.id===r?{...e,active:!0}:{...e,active:!1}):[{id:r<=2?1:r-2,active:1===r},{id:r<=2?2:r-1,active:2===r},{id:r<=2?3:r,active:!(r<=2)},{id:r<=2?4:r+1,active:!1},{id:r<=2?5:r+2,active:!1}],activePage:r}}}}),{changePage:o}=c.actions;c.reducer},4396:(e,a,t)=>{"use strict";t.d(a,{BL:()=>s,PO:()=>r});let r=(0,t(1990).Z0)({name:"adaptive",initialState:{isOpenSort:!0},reducers:{setIsOpenSort(e,a){e.isOpenSort=a.payload}}}),{setIsOpenSort:s}=r.actions;r.reducer},9019:(e,a,t)=>{"use strict";t.d(a,{$Q:()=>o,RU:()=>c,b5:()=>i,jE:()=>s});var r=t(1990);let s=(0,r.zD)("books/fetchCategories",async e=>{let{sortKey:a,perPage:t,activePage:r,filterBy:s}=e;try{let e=await fetch("https://openlibrary.org/subjects/".concat(a,".json?limit=").concat(t,"&offset=").concat(r*t-t).concat("relevance"===s?"":"&sort=".concat(s)));return await e.json()}catch(e){console.error("Error fetching categories:",e)}}),i=(0,r.zD)("books/fetchAuthors",async e=>{let{sortKey:a,perPage:t,activePage:r}=e;try{let e=await fetch("https://openlibrary.org".concat(a,"/works.json?limit=").concat(t,"&offset=").concat(r*t-t));return await e.json()}catch(e){console.error("Error fetching categories:",e)}}),c=(0,r.zD)("books/fetchRecommendations",async e=>{let{perPage:a,activePage:t}=e;try{let e=await fetch("https://openlibrary.org/people/mekBot/books/want-to-read.json?limit=".concat(a,"&page=").concat(t)),r=await e.json(),s=r.reading_log_entries.map(e=>e.work);return{...r,reading_log_entries:[...s]}}catch(e){console.error("Error fetching recommendations:",e)}}),o=(0,r.zD)("search/fetchSearch",async e=>{try{let a=await fetch("https://openlibrary.org/search.json?q=".concat(e,"&fields=*,availability&limit=5"));return(await a.json()).docs}catch(e){console.error("Error fetching search results:",e)}})},9050:(e,a,t)=>{"use strict";t.d(a,{RK:()=>c,XX:()=>i});var r=t(1990),s=t(9019);let i=(0,r.Z0)({name:"search",initialState:{searchedItems:[],isSearching:!1},reducers:{setIsSearching(e,a){e.isSearching=a.payload}},extraReducers:e=>{e.addCase(s.$Q.fulfilled,(e,a)=>{e.searchedItems=[...a.payload]})}}),{setIsSearching:c}=i.actions;i.reducer},9324:()=>{},9357:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,9324,23)),Promise.resolve().then(t.bind(t,2871)),Promise.resolve().then(t.t.bind(t,2306,23))}},e=>{var a=a=>e(e.s=a);e.O(0,[83,635,441,684,358],()=>a(9357)),_N_E=e.O()}]);