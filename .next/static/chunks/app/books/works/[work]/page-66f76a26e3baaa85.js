(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[456],{1398:()=>{},5725:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var i=t(5155),r=t(2115),l=t(6766);function n(e){let{params:s}=e,[t,l]=(0,r.useState)(null),[n,c]=(0,r.useState)([]),{work:u}=(0,r.use)(s);if((0,r.useEffect)(()=>{let e=!1;(async()=>{let s=await fetch("https://openlibrary.org/works/".concat(u,".json")),t=await s.json();e||l(t),e=!0})()},[u]),(0,r.useEffect)(()=>{null!==t&&(async()=>{let e=t.authors.map(e=>e.author.key);c((await Promise.all(e.map(async e=>{let s=await fetch("https://openlibrary.org".concat(e,".json"));return await s.json()}))).filter((e,s)=>s<5))})()},[t]),null!=t&&0!==n.length)return(0,i.jsxs)("div",{className:"book_page_main",children:[(0,i.jsxs)("div",{className:"book_page",children:[(0,i.jsx)(a,{bookItem:t}),(0,i.jsx)(o,{authors:n,bookItem:t})]}),(0,i.jsxs)("div",{className:"description_and_author",children:[t.description&&(0,i.jsx)(d,{bookItem:t}),(0,i.jsx)(h,{authors:n})]})]})}t(1398);let a=e=>{let{bookItem:s}=e;return(0,i.jsx)("div",{className:"book_page_left",children:s.covers&&(0,i.jsx)(l.default,{className:"book_page_img",src:"https://covers.openlibrary.org/b/id/".concat(s.covers[0],"-L.jpg"),alt:"book cover",width:300,height:400,priority:!0,style:{height:400,width:"auto"}})})},o=e=>{let{bookItem:s,authors:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"book_page_right",children:[(0,i.jsx)("h1",{children:s.title}),(0,i.jsx)(c,{bookItem:s,authors:t})]})})},c=e=>{let{bookItem:s,authors:t}=e,r=1===t.length?"AUTHOR":"AUTHORS",l=null;return s.subjects&&(l=s.subjects.filter((e,s)=>s<5)),(0,i.jsxs)("div",{className:"book_page_right_details",children:[(0,i.jsxs)("div",{className:"book_page_authors",children:[(0,i.jsx)("h3",{children:r}),t&&t.map((e,s)=>(0,i.jsx)("p",{children:e.name},s)),(0,i.jsx)("div",{className:"hr"})]}),l&&(0,i.jsxs)("div",{className:"book_page_subjects",children:[(0,i.jsx)("h3",{children:1===s.subjects.length?"SUBJECT":"SUBJECTS"}),l&&l.join(", ")]})]})},d=e=>{let{bookItem:s}=e;return(0,i.jsxs)("div",{className:"description_inner",children:[(0,i.jsx)("h3",{children:"DESCRIPTION"}),(0,i.jsx)("p",{children:(()=>{if(void 0!==s.description)if("string"==typeof s.description){let e=s.description.indexOf("----------");return s.description.slice(0,e)}else{let e=s.description.value.indexOf("----------");return s.description.value.slice(0,e)}return null})()})]})},h=e=>{let{authors:s}=e,t=1===s.length?"AUTHOR":"AUTHORS",r=()=>s.map(e=>{if(void 0!==e.bio)if("string"==typeof e.bio)return e.bio;else return e.bio.value;return null});return(0,i.jsxs)("div",{className:"description_inner",children:[(0,i.jsx)("h3",{children:t}),s.map((e,s)=>(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{style:{padding:"10px"},children:(0,i.jsx)("b",{style:{fontWeight:"bold"},children:e.name})}),(0,i.jsx)("p",{children:r()})]},s))]})}},7061:(e,s,t)=>{Promise.resolve().then(t.bind(t,5725))}},e=>{var s=s=>e(e.s=s);e.O(0,[271,766,441,684,358],()=>s(7061)),_N_E=e.O()}]);