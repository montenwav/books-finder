(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{1091:(e,t,r)=>{Promise.resolve().then(r.bind(r,5922)),Promise.resolve().then(r.bind(r,6662))},1531:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});let a=()=>{localStorage.setItem("category",""),localStorage.setItem("sortKey",""),localStorage.setItem("sortBy","recommendations"),localStorage.setItem("activePage","1"),localStorage.setItem("perPage","12")}},3139:(e,t,r)=>{"use strict";r.d(t,{GV:()=>c,jL:()=>s});var a=r(4540);let s=a.wA,c=a.d4},5922:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(5155),s=r(6874),c=r.n(s),o=r(6766),n=r(1531);function l(){return(0,a.jsxs)("footer",{children:[(0,a.jsx)("div",{onClick:n.C,className:"hr"}),(0,a.jsx)(c(),{href:"/",children:(0,a.jsxs)("div",{className:"inner_footer",children:[(0,a.jsx)(o.default,{src:"/favicon.png",alt:"book",width:24,height:24}),(0,a.jsx)("h4",{children:"BOOKS FINDER"})]})})]})}},6662:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var a=r(5155),s=r(3139),c=r(9050),o=r(2115),n=r(9019);function l(){let[e,t]=(0,o.useState)(""),r=(0,s.jL)(),{isSearching:c}=(0,s.GV)(e=>e.search),l=(0,o.useRef)(null);return(0,o.useEffect)(()=>{l.current&&l.current.focus()},[c]),(0,o.useEffect)(()=>{let t=setTimeout(()=>{e.length>=3&&r((0,n.$Q)(e))},500);return()=>clearTimeout(t)},[e,r]),(0,a.jsxs)("div",{className:"search_main",children:[(0,a.jsx)("input",{placeholder:"Search",className:"search_input",type:"text",value:e,ref:l,onChange:e=>{t(e.target.value)}}),e.length>=3&&(0,a.jsx)(i,{})]})}let i=()=>{let{searchedItems:e}=(0,s.GV)(e=>e.search),t=new Map,r=new Map;e.forEach(e=>{let a,s,c,o;e.author_name&&(a=e.author_name[0]),e.author_key&&(s=e.author_key[0]),e.title&&(c=e.title),e.key&&(o=e.key),a&&s&&t.set(a,s),o&&c&&r.set(c,o)});let c=[];t.size&&(c=Array.from(t.entries()).map(e=>{let[t,r]=e;return{title:t,key:r}}));let o=[];return r.size&&(o=Array.from(r.entries()).map(e=>{let[t,r]=e;return{title:t,key:r}})),(0,a.jsx)("div",{className:"search_outer",children:(0,a.jsxs)("div",{className:"search_inner",children:[(0,a.jsx)(h,{arr:c,type:"authors"}),(0,a.jsx)(h,{arr:o,type:"books"})]})})},h=e=>{let{arr:t,type:r}=e,o=(0,s.jL)(),l=(e,t)=>{let r="/authors/".concat(e);localStorage.setItem("category",t),localStorage.setItem("sortKey",r),localStorage.setItem("sortBy","author"),localStorage.setItem("activePage","1"),localStorage.setItem("perPage","12"),o((0,c.RK)(!1)),o((0,n.b5)({sortKey:r,perPage:12,activePage:1}))};return(0,a.jsxs)("div",{className:"searched_".concat("books"===r?"books":"authors"),children:[(0,a.jsx)("h3",{children:"books"===r?"BOOKS":"AUTHORS"}),(0,a.jsx)("div",{className:"searched_content",children:t.length?(0,a.jsx)(a.Fragment,{children:t.map((e,t)=>"books"===r?(0,a.jsx)("a",{href:"/books".concat(e.key),children:e.title},t):(0,a.jsx)("a",{href:"/",onClick:()=>l(e.key,e.title),children:e.title},t))}):(0,a.jsx)("p",{className:"not-found",children:"No results found"})})]})};var d=r(1531),u=r(6874),m=r.n(u),f=r(6766);function g(){let{isSearching:e}=(0,s.GV)(e=>e.search);return(0,a.jsx)("nav",{className:"header_main",children:(0,a.jsxs)("div",{className:"inner_header",children:[(0,a.jsx)(j,{handleClear:d.C}),(0,a.jsx)(p,{}),e&&(0,a.jsx)(l,{})]})})}let j=e=>{let{handleClear:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"left_header",children:(0,a.jsx)(m(),{href:"/",children:(0,a.jsxs)("div",{onClick:t,className:"fullsize_main",children:[(0,a.jsx)(f.default,{src:"/favicon.png",alt:"book",width:24,height:24}),(0,a.jsx)("h4",{children:"BOOKS FINDER"})]})})})})},p=()=>{let{isSearching:e}=(0,s.GV)(e=>e.search),t=(0,s.jL)(),r=r=>{r.stopPropagation(),t((0,c.RK)(!e))};return(0,a.jsxs)("div",{onClick:e=>r(e),className:"search",children:[(0,a.jsx)("h4",{children:"SEARCH"}),(0,a.jsx)(f.default,{height:16,width:16,src:"/icons/search.svg",alt:"Search Icon"})]})}},9019:(e,t,r)=>{"use strict";r.d(t,{$Q:()=>n,RU:()=>o,b5:()=>c,jE:()=>s});var a=r(1990);let s=(0,a.zD)("books/fetchCategories",async e=>{let{sortKey:t,perPage:r,activePage:a,filterBy:s}=e;try{let e=await fetch("https://openlibrary.org/subjects/".concat(t,".json?limit=").concat(r,"&offset=").concat(a*r-r).concat("relevance"===s?"":"&sort=".concat(s)));return await e.json()}catch(e){console.error("Error fetching categories:",e)}}),c=(0,a.zD)("books/fetchAuthors",async e=>{let{sortKey:t,perPage:r,activePage:a}=e;try{let e=await fetch("https://openlibrary.org".concat(t,"/works.json?limit=").concat(r,"&offset=").concat(a*r-r));return await e.json()}catch(e){console.error("Error fetching categories:",e)}}),o=(0,a.zD)("books/fetchRecommendations",async e=>{let{perPage:t,activePage:r}=e;try{let e=await fetch("https://openlibrary.org/people/mekBot/books/want-to-read.json?limit=".concat(t,"&page=").concat(r)),a=await e.json(),s=a.reading_log_entries.map(e=>e.work);return{...a,reading_log_entries:[...s]}}catch(e){console.error("Error fetching recommendations:",e)}}),n=(0,a.zD)("search/fetchSearch",async e=>{try{let t=await fetch("https://openlibrary.org/search.json?q=".concat(e,"&fields=*,availability&limit=5"));return(await t.json()).docs}catch(e){console.error("Error fetching search results:",e)}})},9050:(e,t,r)=>{"use strict";r.d(t,{RK:()=>o,XX:()=>c});var a=r(1990),s=r(9019);let c=(0,a.Z0)({name:"search",initialState:{searchedItems:[],isSearching:!1},reducers:{setIsSearching(e,t){e.isSearching=t.payload}},extraReducers:e=>{e.addCase(s.$Q.fulfilled,(e,t)=>{e.searchedItems=[...t.payload]})}}),{setIsSearching:o}=c.actions;c.reducer}},e=>{var t=t=>e(e.s=t);e.O(0,[635,766,874,441,684,358],()=>t(1091)),_N_E=e.O()}]);