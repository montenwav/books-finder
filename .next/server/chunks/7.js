exports.id=7,exports.ids=[7],exports.modules={75:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var s=r(687),a=r(6057),i=r(9492),o=r(3210),n=r(7515);function l(){let[e,t]=(0,o.useState)("");(0,a.jL)();let{isSearching:r}=(0,a.GV)(e=>e.search),i=(0,o.useRef)(null);return(0,s.jsxs)("div",{className:"search_main",children:[(0,s.jsx)("input",{placeholder:"Search",className:"search_input",type:"text",value:e,ref:i,onChange:e=>{t(e.target.value)}}),e.length>=3&&(0,s.jsx)(c,{})]})}let c=()=>{let{searchedItems:e}=(0,a.GV)(e=>e.search),t=new Map,r=new Map;e.forEach(e=>{let s,a,i,o;e.author_name&&(s=e.author_name[0]),e.author_key&&(a=e.author_key[0]),e.title&&(i=e.title),e.key&&(o=e.key),s&&a&&t.set(s,a),o&&i&&r.set(i,o)});let i=[];t.size&&(i=Array.from(t.entries()).map(([e,t])=>({title:e,key:t})));let o=[];return r.size&&(o=Array.from(r.entries()).map(([e,t])=>({title:e,key:t}))),(0,s.jsx)("div",{className:"search_outer",children:(0,s.jsxs)("div",{className:"search_inner",children:[(0,s.jsx)(d,{arr:i,type:"authors"}),(0,s.jsx)(d,{arr:o,type:"books"})]})})},d=({arr:e,type:t})=>{let r=(0,a.jL)(),o=(e,t)=>{let s=`/authors/${e}`;localStorage.setItem("category",t),localStorage.setItem("sortKey",s),localStorage.setItem("sortBy","author"),localStorage.setItem("activePage","1"),localStorage.setItem("perPage","12"),r((0,i.RK)(!1)),r((0,n.b5)({sortKey:s,perPage:12,activePage:1}))};return(0,s.jsxs)("div",{className:`searched_${"books"===t?"books":"authors"}`,children:[(0,s.jsx)("h3",{children:"books"===t?"BOOKS":"AUTHORS"}),(0,s.jsx)("div",{className:"searched_content",children:e.length?(0,s.jsx)(s.Fragment,{children:e.map((e,r)=>"books"===t?(0,s.jsx)("a",{href:`/books${e.key}`,children:e.title},r):(0,s.jsx)("a",{href:"/",onClick:()=>o(e.key,e.title),children:e.title},r))}):(0,s.jsx)("p",{className:"not-found",children:"No results found"})})]})};var h=r(7195),u=r(5814),m=r.n(u),f=r(474);function v(){let{isSearching:e}=(0,a.GV)(e=>e.search);return(0,s.jsx)("nav",{className:"header_main",children:(0,s.jsxs)("div",{className:"inner_header",children:[(0,s.jsx)(p,{handleClear:h.C}),(0,s.jsx)(g,{}),e&&(0,s.jsx)(l,{})]})})}let p=({handleClear:e})=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"left_header",children:(0,s.jsx)(m(),{href:"/",children:(0,s.jsxs)("div",{onClick:e,className:"fullsize_main",children:[(0,s.jsx)(f.default,{src:"/favicon.png",alt:"book",width:24,height:24}),(0,s.jsx)("h4",{children:"BOOKS FINDER"})]})})})}),g=()=>{let{isSearching:e}=(0,a.GV)(e=>e.search),t=(0,a.jL)(),r=r=>{r.stopPropagation(),t((0,i.RK)(!e))};return(0,s.jsxs)("div",{onClick:e=>r(e),className:"search",children:[(0,s.jsx)("h4",{children:"SEARCH"}),(0,s.jsx)(f.default,{height:16,width:16,src:"/icons/search.svg",alt:"Search Icon"})]})}},203:(e,t,r)=>{Promise.resolve().then(r.bind(r,6259))},1762:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(687);r(3210);var a=r(4864),i=r(9317),o=r(7515);let n=(0,i.Z0)({name:"books",initialState:{entities:{},status:"idle"},reducers:{},extraReducers:e=>{e.addCase(o.RU.pending,e=>{e.status="loading"}).addCase(o.RU.fulfilled,(e,t)=>{e.entities={...t.payload},e.status="loaded"}).addCase(o.jE.fulfilled,(e,t)=>{e.entities={...t.payload},e.status="loaded"}).addCase(o.jE.pending,e=>{e.status="loading"}).addCase(o.b5.fulfilled,(e,t)=>{e.entities={...t.payload},e.status="loaded"}).addCase(o.b5.pending,e=>{e.status="loading"})}});n.reducer;var l=r(7166),c=r(4589),d=r(2914),h=r(9492);let u=(0,i.U1)({reducer:{books:n.reducer,pages:l.JN.reducer,filters:c.ef.reducer,adaptive:d.PO.reducer,search:h.XX.reducer}}),m=function({children:e}){return(0,s.jsx)(a.Kq,{store:u,children:e})}},2704:()=>{},2914:(e,t,r)=>{"use strict";r.d(t,{BL:()=>a,PO:()=>s});let s=(0,r(9317).Z0)({name:"adaptive",initialState:{isOpenSort:!0},reducers:{setIsOpenSort(e,t){e.isOpenSort=t.payload}}}),{setIsOpenSort:a}=s.actions;s.reducer},3364:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},4589:(e,t,r)=>{"use strict";r.d(t,{Er:()=>i,ef:()=>s,j7:()=>a});let s=(0,r(9317).Z0)({name:"filters",initialState:{perPage:12,filterBy:"relevance"},reducers:{setPerPage(e,t){e.perPage=t.payload},setFilterBy(e,t){e.filterBy=t.payload}}}),{setPerPage:a,setFilterBy:i}=s.actions;s.reducer},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1658);let a=async e=>[{type:"image/x-icon",sizes:"64x64",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6057:(e,t,r)=>{"use strict";r.d(t,{GV:()=>i,jL:()=>a});var s=r(4864);let a=s.wA,i=s.d4},6227:(e,t,r)=>{Promise.resolve().then(r.bind(r,1762))},6259:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/monten1/Documents/VSCode/books-finder/app/Provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/monten1/Documents/VSCode/books-finder/app/Provider.tsx","default")},7166:(e,t,r)=>{"use strict";r.d(t,{JN:()=>s,yd:()=>a});let s=(0,r(9317).Z0)({name:"pages",initialState:{pagesArr:[{id:1,active:!0},{id:2,active:!1},{id:3,active:!1},{id:4,active:!1},{id:5,active:!1}],activePage:1},reducers:{changePage(e,t){let{numberOfPages:r,activePage:s}=t.payload;return{...e,pagesArr:r&&s>r-2?e.pagesArr.map(e=>e.id===s?{...e,active:!0}:{...e,active:!1}):[{id:s<=2?1:s-2,active:1===s},{id:s<=2?2:s-1,active:2===s},{id:s<=2?3:s,active:!(s<=2)},{id:s<=2?4:s+1,active:!1},{id:s<=2?5:s+2,active:!1}],activePage:s}}}}),{changePage:a}=s.actions;s.reducer},7195:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let s=()=>{localStorage.setItem("category",""),localStorage.setItem("sortKey",""),localStorage.setItem("sortBy","recommendations"),localStorage.setItem("activePage","1"),localStorage.setItem("perPage","12")}},7332:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},7515:(e,t,r)=>{"use strict";r.d(t,{$Q:()=>n,RU:()=>o,b5:()=>i,jE:()=>a});var s=r(9317);let a=(0,s.zD)("books/fetchCategories",async e=>{let{sortKey:t,perPage:r,activePage:s,filterBy:a}=e;try{let e=await fetch(`https://openlibrary.org/subjects/${t}.json?limit=${r}&offset=${s*r-r}${"relevance"===a?"":`&sort=${a}`}`);return await e.json()}catch(e){console.error("Error fetching categories:",e)}}),i=(0,s.zD)("books/fetchAuthors",async e=>{let{sortKey:t,perPage:r,activePage:s}=e;try{let e=await fetch(`https://openlibrary.org${t}/works.json?limit=${r}&offset=${s*r-r}`);return await e.json()}catch(e){console.error("Error fetching categories:",e)}}),o=(0,s.zD)("books/fetchRecommendations",async e=>{let{perPage:t,activePage:r}=e;try{let e=await fetch(`https://openlibrary.org/people/mekBot/books/want-to-read.json?limit=${t}&page=${r}`),s=await e.json(),a=s.reading_log_entries.map(e=>e.work);return{...s,reading_log_entries:[...a]}}catch(e){console.error("Error fetching recommendations:",e)}}),n=(0,s.zD)("search/fetchSearch",async e=>{try{let t=await fetch(`https://openlibrary.org/search.json?q=${e}&fields=*,availability&limit=5`);return(await t.json()).docs}catch(e){console.error("Error fetching search results:",e)}})},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>n});var s=r(7413);r(2704);var a=r(7283),i=r.n(a),o=r(6259);let n={title:"Books Finder",description:"This is a website where you can find many books by genre, author and read more about your favorite ones"};function l({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsx)("head",{children:(0,s.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/favicon.png"})}),(0,s.jsx)("body",{className:`${i().variable}`,children:(0,s.jsx)(o.default,{children:e})})]})}},9386:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(687),a=r(5814),i=r.n(a),o=r(474),n=r(7195);function l(){return(0,s.jsxs)("footer",{children:[(0,s.jsx)("div",{onClick:n.C,className:"hr"}),(0,s.jsx)(i(),{href:"/",children:(0,s.jsxs)("div",{className:"inner_footer",children:[(0,s.jsx)(o.default,{src:"/favicon.png",alt:"book",width:24,height:24}),(0,s.jsx)("h4",{children:"BOOKS FINDER"})]})})]})}},9492:(e,t,r)=>{"use strict";r.d(t,{RK:()=>o,XX:()=>i});var s=r(9317),a=r(7515);let i=(0,s.Z0)({name:"search",initialState:{searchedItems:[],isSearching:!1},reducers:{setIsSearching(e,t){e.isSearching=t.payload}},extraReducers:e=>{e.addCase(a.$Q.fulfilled,(e,t)=>{e.searchedItems=[...t.payload]})}}),{setIsSearching:o}=i.actions;i.reducer}};